connections:
  - name: NATS-connection
    type: NATS
    host: demo.nats.io
    port: 4222
  - name: Modbus-connection
    type: Modbus
    host: localhost
    port: 5022
transformations:
  - name: Modbus v NATS za IEEE2030.5 ActivePower
    description: Primer pretvorbe Modbus sporoƒçil v JSON za strukturo ActivePower
    connections:
      incoming-connection:
        - Modbus-connection
      outgoing-connection:
        - NATS-connection
      outgoing-format: JSON
    to-outgoing:
      to-topic: device/attribute/activePower
      message: |-
                "activePower": {
                  "multiplier": {
                    "value": 1
                  },
                  "value": {
                    "lpc:mapping": {
                      "path": "32012",
                      "type": "float"
                    }
                  }
                }
    interval-request:
      interval: 5000
      request:
        modbus-function-code: 3
        modbus-device-id: 1
        endianness: little
        modbus-registers:
          - register-address: 32012
            type: float32
version: 1.0.0
timestamp: 2024-04-10T15:05:34.759Z