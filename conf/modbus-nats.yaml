connections:
  - name: MQTT-connection
    type: MQTT
    host: 37aad5450fca492297d7d3bc3329f4ba.s2.eu.hivemq.cloud
    port: 8883
    ssl:
      default: true
    username: lpc-user
    password: zv.NaiixwWZ7wCC
  - name: Modbus-connection
    type: Modbus
    host: 10.1.1.222
    port: 502
transformations:
  - name: Modbus to JSON IEEE2030.5 Event
    description: Example showing transformation of messages from Modbus to JSON
    connections:
      incoming-connection:
        - Modbus-connection
      outgoing-connection:
        - MQTT-connection
      outgoing-topic: event/myevent
      outgoing-format: JSON
    to-outgoing:
      to-topic: event/1/derStatus
      message: '{
  "32002": {
    "lpc:mapping": {
      "type": "int16",
      "path": "32002"
    }
  },
  "32009": {
    "lpc:mapping": {
      "type": "int16",
      "path": "32009"
    }
  },
  "32010": {
    "lpc:mapping": {
      "type": "int32",
      "path": "32010"
    }
  },
  "32012": {
    "lpc:mapping": {
      "type": "float32",
      "path": "32012"
    }
  }
}
                '
    interval-request:
      interval: 3000
      request:
        modbus-function-code: 3
        modbus-device-id: 1
        endianness: little
        modbus-registers:
          - register-address: 32002
            type: int16
          - register-address: 32009
            type: int16
          - register-address: 32010
            type: int32
          - register-address: 32012
            type: float32
  - name: Modbus to JSON IEEE2030.5 Event
    description: Example showing transformation of messages from Modbus to JSON
    connections:
      incoming-connection:
        - Modbus-connection
      outgoing-connection:
        - MQTT-connection
      outgoing-topic: event/control
      outgoing-format: JSON
    to-incoming:
      modbus-function-code: 6
      modbus-device-id: 1
      endianness: little
      modbus-registers:
        - register-address: 32002
          type: int16
          path: /test
version: 2.0.0
timestamp: 2024-04-10T15:05:34.759Z